import { parse } from 'querystring';

const getURLParams = ({ pattern, keys }, reqUrl = '/') => {
    const matches = pattern.exec(reqUrl);
    const params = {};
    if (matches)
        for (let i = 0; i < keys.length; i++)
            params[keys[i]] = matches[i + 1];
    return params;
};
const getPathname = (u) => {
    const end = u.indexOf('?');
    return u.slice(0, end === -1 ? u.length : end);
};
const getQueryParams = (url = '/') => parse(url.slice(url.indexOf('?') + 1));

export { getPathname, getQueryParams, getURLParams };
